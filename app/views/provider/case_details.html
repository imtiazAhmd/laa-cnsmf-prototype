{% extends "layout.html" %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-l">Case details</h1>
            <form class="form" action="hearing_details" method="post">
                {{ govukSelect({
                    id: "case-details-main-offence",
                    name: "case_details[main_offence]",
                    label: {
                        text: "Main offence"
                    },
                    classes: "govuk-!-width-two-thirds",
                    items: offences
                }) }}
                {{ govukDateInput({
                    id: "case-details-offence-commited",
                    namePrefix: "case_details[date_of_offence_commited]",
                    fieldset: {
                        legend: {
                        text: "Date offence comitted",
                        classes: "govuk-fieldset__legend--s"
                        }
                    },
                    hint: {
                        text: "For example, 27 3 2023"
                    }
                }) }}

                {{ govukCheckboxes({
                    id: "case-details-value",
                    name: "case_details[value]",
                    fieldset: {
                        legend: {
                        text: "Tick the boxes that apply to your case",
                        classes: "govuk-fieldset__legend--s"
                        }
                    },
                    items: [
                        {
                        value: "there was an assigned counsel",
                        text: "There was an assigned counsel"
                        },
                        {
                        value: "there was an unassigned counsel",
                        text: "There was an unassigned counsel"
                        },
                        {
                        value: "there was an agent counsel",
                        text: "There was an agent counsel"
                        },
                        {
                        value: "the case has been remitted",
                        text: "The case has been remitted from the Magistrates court the Crown Court"
                        }
                    ]
                }) }}
                <div id='crm8-upload-section' class='hidden'>
                    {% set crm8FileUploadHtml %}
                    {{ govukFileUpload({
                        id: "case-details-crm8-file-upload",
                        name: "case_details[crm8_form]",
                        label: {
                            text: "Upload a file"
                        }
                        }) }}
                    {% endset %}
                    {% set cmr8PostHtml %}
                    <p>Post your paper evidence at:</p>

                    <p>Northgate Public Services<br>
                        26 Charles Way<br>
                        Bulwell<br>
                        Nottingham<br>
                        NG6 8RF</p>

                    <p>This may delay the times in assessing your claims</p>
                    {% endset %}
                    {% call govukFieldset({
                        legend: {
                            text: "How will you be providing the CRM8 form?",
                            classes: "govuk-fieldset__legend--s",
                            isPageHeading: true
                        }
                        }) %}
                    {{ govukRadios({
                        name: "case_details[send_crm8_via]",
                        fieldset: {
                            legend: {
                            text: "You must provide a CRM8 form for every assigned counsel to this case."
                            }
                        },
                        items: [
                            {
                            value: "file upload",
                            text: "File upload",
                            conditional: {
                                html: crm8FileUploadHtml
                            }
                            },
                            {
                            value: "via post",
                            text: "Via post",
                            conditional: {
                                html: cmr8PostHtml
                            }
                            }
                        ]
                        }) }}
                    {% endcall %}
                </div>
                <div id='case-remitted-section' class='hidden'>
                    {% set remittedFileUploadHtml %}
                    {{ govukFileUpload({
                        id: "case-details-remitted-file-upload",
                        name: "case_details[crm8_form]",
                        label: {
                            text: "Upload a file"
                        }
                        }) }}
                    {% endset %}
                    {% set remittedPostHtml %}
                    <p>Post your paper evidence at:</p>

                    <p>Northgate Public Services<br>
                        26 Charles Way<br>
                        Bulwell<br>
                        Nottingham<br>
                        NG6 8RF</p>

                    <p>This may delay the times in assessing your claims</p>
                    {% endset %}
                    {{ govukDateInput({
                        id: "case-details-case-remitted-date",
                        namePrefix: "case_details[case_remitted_date]",
                        fieldset: {
                            legend: {
                            text: "Date in which case was remitted",
                            isPageHeading: true,
                            classes: "govuk-fieldset__legend--s"
                            }
                        },
                        hint: {
                            text: "For example, 27 3 2007"
                        }
                        }) }}

                    {% call govukFieldset({
                        legend: {
                            text: "How will you be providing evidence?",
                            classes: "govuk-fieldset__legend--s",
                            isPageHeading: true
                        }
                        }) %}
                    {{ govukRadios({
                        name: "case_details[send_evidence_via]",
                        fieldset: {
                        },
                        items: [
                            {
                            value: "file upload",
                            text: "File upload",
                            conditional: {
                                html: remittedFileUploadHtml
                            }
                            },
                            {
                            value: "via post",
                            text: "Via post",
                            conditional: {
                                html: remittedPostHtml
                            }
                            }
                        ]
                        }) }}
                    {% endcall %}
                </div>
                <button class="govuk-button" data-module="govuk-button">Save and continue</button>

            </form>
        </div>
    </div>
{% endblock %}